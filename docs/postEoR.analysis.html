<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Python: module postEoR.analysis</title>
</head><body>

<table class="heading">
<tr class="heading-text decor">
<td class="title">&nbsp;<br><strong class="title"><a href="postEoR.html" class="white">postEoR</a>.analysis</strong></td>
<td class="extra"><a href=".">index</a><br><a href="file:/Users/Rach/opt/anaconda3/envs/fast/lib/python3.11/site-packages/postEoR/analysis.py">/Users/Rach/opt/anaconda3/envs/fast/lib/python3.11/site-packages/postEoR/analysis.py</a></td></tr></table>
    <p><span class="code">Analysis&nbsp;functions.&nbsp;Not&nbsp;needed&nbsp;if&nbsp;analysing&nbsp;quantities&nbsp;produced&nbsp;by&nbsp;postEoR,&nbsp;as&nbsp;the&nbsp;classes&nbsp;import&nbsp;the&nbsp;required&nbsp;analysis&nbsp;functions,&nbsp;but&nbsp;here&nbsp;for&nbsp;analysis&nbsp;of&nbsp;other&nbsp;arrays&nbsp;if&nbsp;needed.</span></p>
<p>
<table class="section">
<tr class="decor pkg-content-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Modules</strong></td></tr>
    
<tr><td class="decor pkg-content-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><table><tr><td class="multicolumn"><a href="numpy.html">numpy</a><br>
<a href="py21cmfast.html">py21cmfast</a><br>
</td><td class="multicolumn"><a href="matplotlib.pyplot.html">matplotlib.pyplot</a><br>
<a href="scipy.stats.html">scipy.stats</a><br>
</td><td class="multicolumn"><a href="postEoR.tools.html">postEoR.tools</a><br>
</td><td class="multicolumn"></td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor functions-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Functions</strong></td></tr>
    
<tr><td class="decor functions-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl><dt><a name="-flatten"><strong>flatten</strong></a>(x, axis)</dt></dl>
 <dl><dt><a name="-gen_himf"><strong>gen_himf</strong></a>(z, HII_dim, box_len, set_bins=True)</dt><dd><span class="code">Generates&nbsp;a&nbsp;HI&nbsp;mass&nbsp;function&nbsp;at&nbsp;a&nbsp;given&nbsp;redshift.&nbsp;Used&nbsp;for&nbsp;testing&nbsp;of&nbsp;the&nbsp;halo&nbsp;finder&nbsp;and&nbsp;HI-halo&nbsp;mass&nbsp;relation.<br>
&nbsp;<br>
Parameters<br>
----------<br>
z&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;redshift&nbsp;at&nbsp;which&nbsp;to&nbsp;calculate&nbsp;the&nbsp;HIMF.<br>
HII_dim&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;cells&nbsp;in&nbsp;each&nbsp;of&nbsp;the&nbsp;spatial&nbsp;dimensions&nbsp;of&nbsp;the&nbsp;box&nbsp;/&nbsp;cone.<br>
box_len&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;physical&nbsp;length&nbsp;of&nbsp;each&nbsp;of&nbsp;the&nbsp;spatial&nbsp;dimensions&nbsp;of&nbsp;the&nbsp;box&nbsp;/&nbsp;cone,&nbsp;in&nbsp;Mpc/h.&nbsp;<br>
set_bins&nbsp;:&nbsp;bool&nbsp;(optional)<br>
&nbsp;&nbsp;&nbsp;&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;set&nbsp;bins&nbsp;(instead&nbsp;of&nbsp;the&nbsp;bins&nbsp;generated&nbsp;by&nbsp;np.histogram).&nbsp;Default&nbsp;is&nbsp;True.<br>
&nbsp;<br>
Returns<br>
-------<br>
bins&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;mass&nbsp;bins&nbsp;used&nbsp;to&nbsp;create&nbsp;the&nbsp;HIMF.<br>
counts&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;halos&nbsp;falling&nbsp;in&nbsp;each&nbsp;HI&nbsp;mass&nbsp;bin.<br>
los_dist&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;physical&nbsp;distance&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;redshift&nbsp;interval&nbsp;the&nbsp;lightcone&nbsp;is&nbsp;generated&nbsp;over,&nbsp;used&nbsp;for&nbsp;some&nbsp;plots,&nbsp;in&nbsp;Mpc/h.</span></dd></dl>
 <dl><dt><a name="-gen_hmf"><strong>gen_hmf</strong></a>(z, HII_dim, box_len, set_bins=True)</dt><dd><span class="code">Generates&nbsp;a&nbsp;halo&nbsp;mass&nbsp;function&nbsp;at&nbsp;a&nbsp;given&nbsp;redshift.&nbsp;Used&nbsp;for&nbsp;testing&nbsp;of&nbsp;the&nbsp;halo&nbsp;finder.<br>
&nbsp;<br>
Parameters<br>
----------<br>
z&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;redshift&nbsp;at&nbsp;which&nbsp;to&nbsp;calculate&nbsp;the&nbsp;HMF.<br>
HII_dim&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;cells&nbsp;in&nbsp;each&nbsp;of&nbsp;the&nbsp;spatial&nbsp;dimensions&nbsp;of&nbsp;the&nbsp;box&nbsp;/&nbsp;cone.<br>
box_len&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;physical&nbsp;length&nbsp;of&nbsp;each&nbsp;of&nbsp;the&nbsp;spatial&nbsp;dimensions&nbsp;of&nbsp;the&nbsp;box&nbsp;/&nbsp;cone,&nbsp;in&nbsp;Mpc/h.&nbsp;<br>
set_bins&nbsp;:&nbsp;bool&nbsp;(optional)<br>
&nbsp;&nbsp;&nbsp;&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;set&nbsp;bins&nbsp;(instead&nbsp;of&nbsp;the&nbsp;bins&nbsp;generated&nbsp;by&nbsp;np.histogram).&nbsp;Default&nbsp;is&nbsp;True.<br>
&nbsp;<br>
Returns<br>
-------<br>
bins&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;mass&nbsp;bins&nbsp;used&nbsp;to&nbsp;create&nbsp;the&nbsp;HMF.<br>
counts&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;halos&nbsp;falling&nbsp;in&nbsp;each&nbsp;halo&nbsp;mass&nbsp;bin.<br>
los_dist&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;physical&nbsp;distance&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;redshift&nbsp;interval&nbsp;the&nbsp;lightcone&nbsp;is&nbsp;generated&nbsp;over,&nbsp;used&nbsp;for&nbsp;some&nbsp;plots,&nbsp;in&nbsp;Mpc/h.</span></dd></dl>
 <dl><dt><a name="-get_PS"><strong>get_PS</strong></a>(x, box_len, HII_dim, kbins=None, remove_nan=True)</dt><dd><span class="code">Calculates&nbsp;the&nbsp;power&nbsp;spectrum&nbsp;for&nbsp;the&nbsp;input&nbsp;field&nbsp;x.<br>
&nbsp;<br>
Parameters<br>
----------<br>
x&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;field&nbsp;whose&nbsp;power&nbsp;spectrum&nbsp;is&nbsp;to&nbsp;be&nbsp;calculated.<br>
box_len&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;physical&nbsp;length&nbsp;of&nbsp;each&nbsp;of&nbsp;the&nbsp;spatial&nbsp;dimensions&nbsp;of&nbsp;the&nbsp;box&nbsp;/&nbsp;cone,&nbsp;in&nbsp;Mpc/h.&nbsp;<br>
HII_dim&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;cells&nbsp;in&nbsp;each&nbsp;of&nbsp;the&nbsp;spatial&nbsp;dimensions&nbsp;of&nbsp;the&nbsp;box&nbsp;/&nbsp;cone.<br>
kbins&nbsp;:&nbsp;NumPy&nbsp;array&nbsp;(optional)<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;wavenumber&nbsp;bins&nbsp;to&nbsp;use&nbsp;in&nbsp;binning&nbsp;the&nbsp;power.&nbsp;If&nbsp;none&nbsp;/&nbsp;invalid&nbsp;bins&nbsp;are&nbsp;provided,&nbsp;bins&nbsp;will&nbsp;be&nbsp;generated&nbsp;automatically&nbsp;based&nbsp;on&nbsp;the&nbsp;minimum&nbsp;and&nbsp;maximum&nbsp;wavenumber&nbsp;and&nbsp;the&nbsp;number&nbsp;of&nbsp;cells&nbsp;in&nbsp;each&nbsp;dimension.<br>
remove_nan&nbsp;:&nbsp;bool&nbsp;(optional)<br>
&nbsp;&nbsp;&nbsp;&nbsp;Whether&nbsp;to&nbsp;remove&nbsp;NaN&nbsp;values&nbsp;from&nbsp;the&nbsp;binned&nbsp;power&nbsp;spectrum&nbsp;(need&nbsp;to&nbsp;keep&nbsp;if&nbsp;calculating&nbsp;the&nbsp;ratio&nbsp;between&nbsp;two&nbsp;power&nbsp;spectra).&nbsp;Defaults&nbsp;to&nbsp;True.<br>
&nbsp;<br>
Returns<br>
-------<br>
new_k&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;wavenumbers&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;power&nbsp;spectrum.<br>
plot1&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;power&nbsp;spectrum&nbsp;of&nbsp;the&nbsp;input&nbsp;field&nbsp;x.<br>
error1&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;error&nbsp;in&nbsp;each&nbsp;bin&nbsp;of&nbsp;the&nbsp;power&nbsp;spectrum.</span></dd></dl>
 <dl><dt><a name="-get_clustering_ps"><strong>get_clustering_ps</strong></a>(x, box_len, HII_dim, kbins=None, remove_nan=True)</dt><dd><span class="code">Calculates&nbsp;the&nbsp;clustering&nbsp;power&nbsp;spectrum&nbsp;of&nbsp;the&nbsp;input&nbsp;field&nbsp;x.<br>
&nbsp;<br>
Parameters<br>
----------</span></dd></dl>
 <dl><dt><a name="-get_dimless_PS"><strong>get_dimless_PS</strong></a>(x, box_len, HII_dim: int, kbins=None, remove_nan=True)</dt><dd><span class="code">Calculates&nbsp;the&nbsp;dimensionless&nbsp;power&nbsp;spectrum&nbsp;for&nbsp;the&nbsp;input&nbsp;field&nbsp;x.<br>
&nbsp;<br>
Parameters<br>
----------<br>
x&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;field&nbsp;whose&nbsp;dimensionless&nbsp;power&nbsp;spectrum&nbsp;is&nbsp;to&nbsp;be&nbsp;calculated.<br>
box_len&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;physical&nbsp;length&nbsp;of&nbsp;each&nbsp;of&nbsp;the&nbsp;spatial&nbsp;dimensions&nbsp;of&nbsp;the&nbsp;box&nbsp;/&nbsp;cone,&nbsp;in&nbsp;Mpc/h.&nbsp;<br>
HII_dim&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;cells&nbsp;in&nbsp;each&nbsp;of&nbsp;the&nbsp;spatial&nbsp;dimensions&nbsp;of&nbsp;the&nbsp;box&nbsp;/&nbsp;cone.<br>
kbins&nbsp;:&nbsp;NumPy&nbsp;array&nbsp;(optional)<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;wavenumber&nbsp;bins&nbsp;to&nbsp;use&nbsp;in&nbsp;binning&nbsp;the&nbsp;power.&nbsp;If&nbsp;none&nbsp;/&nbsp;invalid&nbsp;bins&nbsp;are&nbsp;provided,&nbsp;bins&nbsp;will&nbsp;be&nbsp;generated&nbsp;automatically&nbsp;based&nbsp;on&nbsp;the&nbsp;minimum&nbsp;and&nbsp;maximum&nbsp;wavenumber&nbsp;and&nbsp;the&nbsp;number&nbsp;of&nbsp;cells&nbsp;in&nbsp;each&nbsp;dimension.<br>
remove_nan&nbsp;:&nbsp;bool&nbsp;(optional)<br>
&nbsp;&nbsp;&nbsp;&nbsp;Whether&nbsp;to&nbsp;remove&nbsp;NaN&nbsp;values&nbsp;from&nbsp;the&nbsp;binned&nbsp;power&nbsp;spectrum&nbsp;(need&nbsp;to&nbsp;keep&nbsp;if&nbsp;calculating&nbsp;the&nbsp;ratio&nbsp;between&nbsp;two&nbsp;power&nbsp;spectra).&nbsp;Defaults&nbsp;to&nbsp;True.<br>
&nbsp;<br>
Returns<br>
-------<br>
new_k&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;wavenumbers&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;dimensionless&nbsp;power&nbsp;spectrum.<br>
plot1&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;dimensionless&nbsp;power&nbsp;spectrum&nbsp;of&nbsp;the&nbsp;input&nbsp;field&nbsp;x.<br>
error1&nbsp;:&nbsp;NumPy&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;error&nbsp;in&nbsp;each&nbsp;bin&nbsp;of&nbsp;the&nbsp;dimensionless&nbsp;power&nbsp;spectrum.</span></dd></dl>
 <dl><dt><a name="-get_distance"><strong>get_distance</strong></a>(z_start, z_end=0)</dt><dd><span class="code">Calculates&nbsp;distance&nbsp;corresponding&nbsp;to&nbsp;a&nbsp;given&nbsp;redshift&nbsp;interval,&nbsp;in&nbsp;units&nbsp;of&nbsp;Mpc.&nbsp;Assumes&nbsp;a&nbsp;flat&nbsp;Î›CDM&nbsp;cosmology.<br>
&nbsp;<br>
Parameters<br>
----------<br>
z_start&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;maximum&nbsp;redshift&nbsp;of&nbsp;the&nbsp;distance&nbsp;interval&nbsp;calculated.<br>
z_end&nbsp;:&nbsp;float&nbsp;(optional)<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;minimum&nbsp;redshift&nbsp;of&nbsp;the&nbsp;distance&nbsp;interval&nbsp;calculated.&nbsp;Defaults&nbsp;to&nbsp;0.<br>
&nbsp;<br>
Returns<br>
-------<br>
dist&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;distance&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;input&nbsp;redshift&nbsp;interval,&nbsp;in&nbsp;Mpc/h.</span></dd></dl>
 <dl><dt><a name="-reduce_res"><strong>reduce_res</strong></a>(reduction_factor, object)</dt><dd><span class="code">Reduces&nbsp;the&nbsp;resolution&nbsp;of&nbsp;a&nbsp;field&nbsp;by&nbsp;the&nbsp;specified&nbsp;factor.<br>
&nbsp;<br>
Parameters<br>
----------<br>
reduction_factor&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;factor&nbsp;by&nbsp;which&nbsp;the&nbsp;resolution&nbsp;of&nbsp;the&nbsp;field&nbsp;is&nbsp;to&nbsp;be&nbsp;reduced.<br>
object&nbsp;:&nbsp;NDarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;field&nbsp;whose&nbsp;resolution&nbsp;is&nbsp;to&nbsp;be&nbsp;reduced.<br>
&nbsp;<br>
Returns<br>
-------</span></dd></dl>
</td></tr></table><p>
<table class="section">
<tr class="decor data-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Data</strong></td></tr>
    
<tr><td class="decor data-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><strong>OMl</strong> = 0.6903585584544936<br>
<strong>OMm</strong> = 0.30964144154550644<br>
<strong>hlittle</strong> = 0.6766</td></tr></table>
</body></html>